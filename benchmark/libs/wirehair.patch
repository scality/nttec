diff --git a/CMakeLists.txt b/CMakeLists.txt
index 21b3514..a2af162 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -63,8 +63,8 @@ endif()
 if(MSVC)
 else()
     set(CMAKE_CXX_FLAGS "-Wall -Wextra")
-    set(CMAKE_CXX_FLAGS_DEBUG "-g -O0 -march=native")
-    set(CMAKE_CXX_FLAGS_RELEASE "-O3 -march=native")
+    set(CMAKE_CXX_FLAGS_DEBUG "-g -O0 -march=native -lm")
+    set(CMAKE_CXX_FLAGS_RELEASE "-O3 -march=native -lm")
 endif()
 
 include_directories(.)
diff --git a/tables/GenerateDenseCount.cpp b/tables/GenerateDenseCount.cpp
index d4c051c..7017b8a 100644
--- a/tables/GenerateDenseCount.cpp
+++ b/tables/GenerateDenseCount.cpp
@@ -84,7 +84,7 @@ using namespace std;
 
 std::vector<uint8_t> message;
 
-static std::atomic<unsigned> FailedTrials = 0;
+static std::atomic<unsigned> FailedTrials;
 
 static void RandomTrial(
     unsigned N,
diff --git a/tables/GenerateMostDenseSeeds.cpp b/tables/GenerateMostDenseSeeds.cpp
index c88d881..05dc23a 100644
--- a/tables/GenerateMostDenseSeeds.cpp
+++ b/tables/GenerateMostDenseSeeds.cpp
@@ -85,7 +85,7 @@ static const float targetMsec = 5000; // msec
 */
 
 /**
-    Some old notes: 
+    Some old notes:
 
     Each element of the DENSE_SEEDS table represents the best
     PCGRandom PRNG seed to use to generate a Shuffle-2 Code
@@ -222,7 +222,7 @@ void FillSeeds()
 
 std::vector<uint8_t> message;
 
-static std::atomic<unsigned> FailedTrials = 0;
+static std::atomic<unsigned> FailedTrials;
 
 static void RandomTrial(
     unsigned N,
diff --git a/tables/GeneratePeelSeeds.cpp b/tables/GeneratePeelSeeds.cpp
index 0a1a0a6..6a8bb51 100644
--- a/tables/GeneratePeelSeeds.cpp
+++ b/tables/GeneratePeelSeeds.cpp
@@ -92,7 +92,7 @@ void FillSeeds()
     memcpy(kPeelSeeds, wirehair::kPeelSeeds, sizeof(kPeelSeeds));
 }
 
-static std::atomic<unsigned> FailedTrials = 0;
+static std::atomic<unsigned> FailedTrials;
 
 uint8_t Message[64000];
 
diff --git a/tables/GenerateSmallDenseSeeds.cpp b/tables/GenerateSmallDenseSeeds.cpp
index 9bb95bc..f9b4286 100644
--- a/tables/GenerateSmallDenseSeeds.cpp
+++ b/tables/GenerateSmallDenseSeeds.cpp
@@ -94,7 +94,7 @@ static const int N_List[] = {
 
 uint8_t Message[64000];
 
-static std::atomic<unsigned> FailedTrials = 0;
+static std::atomic<unsigned> FailedTrials;
 
 static void RandomTrial(
     unsigned N,
diff --git a/tables/TableGenerator.cpp b/tables/TableGenerator.cpp
index a07ce6c..6916e6d 100644
--- a/tables/TableGenerator.cpp
+++ b/tables/TableGenerator.cpp
@@ -36,6 +36,7 @@ using namespace siamese;
 #include <vector>
 #include <algorithm>
 #include <iomanip>
+#include <cmath>
 using namespace std;
 
 #ifdef _MSC_VER
diff --git a/test/UnitTest.cpp b/test/UnitTest.cpp
index 099b243..3788847 100644
--- a/test/UnitTest.cpp
+++ b/test/UnitTest.cpp
@@ -519,7 +519,7 @@ static bool Test_DecodeRandomLosses(
     return true;
 }
 
-static atomic<bool> TestFailed = false;
+static atomic<bool> TestFailed;
 
 static void TestN(uint64_t seed, int N, unsigned blockBytes)
 {
